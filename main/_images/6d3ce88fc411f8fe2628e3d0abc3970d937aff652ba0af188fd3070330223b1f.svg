<?plantuml 1.2026.1beta5?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="526px" preserveAspectRatio="none" style="width:759px;height:526px;background:#FFFFFF;" version="1.1" viewBox="0 0 759 526" width="759px" zoomAndPan="magnify"><defs/><g><rect fill="#DDDDDD" height="514.3203" style="stroke:#181818;stroke-width:0.5;" width="428.0098" x="320.7988" y="6"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="156.4761" x="456.5657" y="18.0669">Opyhd Async Devices</text><g><title>BlueSky RunEngine</title><rect fill="#000000" fill-opacity="0.00000" height="287.1953" width="8" x="76.5825" y="72.7266"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="80.0825" x2="80.0825" y1="72.7266" y2="359.9219"/></g><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:1,4;" x1="80.0825" x2="80.0825" y1="359.9219" y2="400.7266"/><g><title>BlueSky RunEngine</title><rect fill="#000000" fill-opacity="0.00000" height="66" width="8" x="76.5825" y="400.7266"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="80.0825" x2="80.0825" y1="400.7266" y2="466.7266"/></g><g><title/><rect fill="#FFFFFF" height="213.9297" style="stroke:#FFFFFF;stroke-width:1;" width="10" x="75.0825" y="145.9922"/><line style="stroke:#181818;stroke-width:1;" x1="75.0825" x2="75.0825" y1="145.9922" y2="359.9219"/><line style="stroke:#181818;stroke-width:1;" x1="85.0825" x2="85.0825" y1="145.9922" y2="359.9219"/><line style="stroke:#181818;stroke-width:1;" x1="75.0825" x2="85.0825" y1="145.9922" y2="145.9922"/></g><g><title/><rect fill="#FFFFFF" height="34" style="stroke:#FFFFFF;stroke-width:1;" width="10" x="75.0825" y="400.7266"/><line style="stroke:#181818;stroke-width:1;" x1="75.0825" x2="75.0825" y1="400.7266" y2="434.7266"/><line style="stroke:#181818;stroke-width:1;" x1="85.0825" x2="85.0825" y1="400.7266" y2="434.7266"/><line style="stroke:#181818;stroke-width:1;" x1="75.0825" x2="85.0825" y1="434.7266" y2="434.7266"/></g><g><title>Undulator</title><rect fill="#000000" fill-opacity="0.00000" height="287.1953" width="8" x="362.8784" y="72.7266"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="366.3784" x2="366.3784" y1="72.7266" y2="359.9219"/></g><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:1,4;" x1="366.3784" x2="366.3784" y1="359.9219" y2="400.7266"/><g><title>Undulator</title><rect fill="#000000" fill-opacity="0.00000" height="66" width="8" x="362.8784" y="400.7266"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="366.3784" x2="366.3784" y1="400.7266" y2="466.7266"/></g><g><title/><rect fill="#FFFFFF" height="155.6641" style="stroke:#FFFFFF;stroke-width:1;" width="10" x="361.3784" y="204.2578"/><line style="stroke:#181818;stroke-width:1;" x1="361.3784" x2="361.3784" y1="204.2578" y2="359.9219"/><line style="stroke:#181818;stroke-width:1;" x1="371.3784" x2="371.3784" y1="204.2578" y2="359.9219"/><line style="stroke:#181818;stroke-width:1;" x1="361.3784" x2="371.3784" y1="204.2578" y2="204.2578"/></g><g><title/><rect fill="#FFFFFF" height="34" style="stroke:#FFFFFF;stroke-width:1;" width="10" x="361.3784" y="400.7266"/><line style="stroke:#181818;stroke-width:1;" x1="361.3784" x2="361.3784" y1="400.7266" y2="434.7266"/><line style="stroke:#181818;stroke-width:1;" x1="371.3784" x2="371.3784" y1="400.7266" y2="434.7266"/><line style="stroke:#181818;stroke-width:1;" x1="361.3784" x2="371.3784" y1="434.7266" y2="434.7266"/></g><g><title>DCM</title><rect fill="#000000" fill-opacity="0.00000" height="287.1953" width="8" x="437.7754" y="72.7266"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="441.2754" x2="441.2754" y1="72.7266" y2="359.9219"/></g><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:1,4;" x1="441.2754" x2="441.2754" y1="359.9219" y2="400.7266"/><g><title>DCM</title><rect fill="#000000" fill-opacity="0.00000" height="66" width="8" x="437.7754" y="400.7266"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="441.2754" x2="441.2754" y1="400.7266" y2="466.7266"/></g><g><title/><rect fill="#FFFFFF" height="126.5313" style="stroke:#FFFFFF;stroke-width:1;" width="10" x="436.2754" y="233.3906"/><line style="stroke:#181818;stroke-width:1;" x1="436.2754" x2="436.2754" y1="233.3906" y2="359.9219"/><line style="stroke:#181818;stroke-width:1;" x1="446.2754" x2="446.2754" y1="233.3906" y2="359.9219"/><line style="stroke:#181818;stroke-width:1;" x1="436.2754" x2="446.2754" y1="233.3906" y2="233.3906"/></g><g><title/><rect fill="#FFFFFF" height="47" style="stroke:#FFFFFF;stroke-width:1;" width="10" x="436.2754" y="400.7266"/><line style="stroke:#181818;stroke-width:1;" x1="436.2754" x2="436.2754" y1="400.7266" y2="447.7266"/><line style="stroke:#181818;stroke-width:1;" x1="446.2754" x2="446.2754" y1="400.7266" y2="447.7266"/><line style="stroke:#181818;stroke-width:1;" x1="436.2754" x2="446.2754" y1="447.7266" y2="447.7266"/></g><g><title>Transmission</title><rect fill="#000000" fill-opacity="0.00000" height="287.1953" width="8" x="527.2056" y="72.7266"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="530.7056" x2="530.7056" y1="72.7266" y2="359.9219"/></g><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:1,4;" x1="530.7056" x2="530.7056" y1="359.9219" y2="400.7266"/><g><title>Transmission</title><rect fill="#000000" fill-opacity="0.00000" height="66" width="8" x="527.2056" y="400.7266"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="530.7056" x2="530.7056" y1="400.7266" y2="466.7266"/></g><g><title/><rect fill="#FFFFFF" height="184.7969" style="stroke:#FFFFFF;stroke-width:1;" width="10" x="525.7056" y="175.125"/><line style="stroke:#181818;stroke-width:1;" x1="525.7056" x2="525.7056" y1="175.125" y2="359.9219"/><line style="stroke:#181818;stroke-width:1;" x1="535.7056" x2="535.7056" y1="175.125" y2="359.9219"/><line style="stroke:#181818;stroke-width:1;" x1="525.7056" x2="535.7056" y1="175.125" y2="175.125"/></g><g><title/><rect fill="#FFFFFF" height="47" style="stroke:#FFFFFF;stroke-width:1;" width="10" x="525.7056" y="400.7266"/><line style="stroke:#181818;stroke-width:1;" x1="525.7056" x2="525.7056" y1="400.7266" y2="447.7266"/><line style="stroke:#181818;stroke-width:1;" x1="535.7056" x2="535.7056" y1="400.7266" y2="447.7266"/><line style="stroke:#181818;stroke-width:1;" x1="525.7056" x2="535.7056" y1="447.7266" y2="447.7266"/></g><g><title>Mirrors</title><rect fill="#000000" fill-opacity="0.00000" height="287.1953" width="8" x="624.8662" y="72.7266"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="628.3662" x2="628.3662" y1="72.7266" y2="359.9219"/></g><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:1,4;" x1="628.3662" x2="628.3662" y1="359.9219" y2="400.7266"/><g><title>Mirrors</title><rect fill="#000000" fill-opacity="0.00000" height="66" width="8" x="624.8662" y="400.7266"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="628.3662" x2="628.3662" y1="400.7266" y2="466.7266"/></g><g><title/><rect fill="#FFFFFF" height="66.2656" style="stroke:#FFFFFF;stroke-width:1;" width="10" x="623.3662" y="293.6563"/><line style="stroke:#181818;stroke-width:1;" x1="623.3662" x2="623.3662" y1="293.6563" y2="359.9219"/><line style="stroke:#181818;stroke-width:1;" x1="633.3662" x2="633.3662" y1="293.6563" y2="359.9219"/><line style="stroke:#181818;stroke-width:1;" x1="623.3662" x2="633.3662" y1="293.6563" y2="293.6563"/></g><g><title/><rect fill="#FFFFFF" height="19" style="stroke:#FFFFFF;stroke-width:1;" width="10" x="623.3662" y="400.7266"/><line style="stroke:#181818;stroke-width:1;" x1="623.3662" x2="623.3662" y1="400.7266" y2="419.7266"/><line style="stroke:#181818;stroke-width:1;" x1="633.3662" x2="633.3662" y1="400.7266" y2="419.7266"/><line style="stroke:#181818;stroke-width:1;" x1="623.3662" x2="633.3662" y1="419.7266" y2="419.7266"/></g><g><title>Mirror</title><rect fill="#000000" fill-opacity="0.00000" height="287.1953" width="8" x="703.8613" y="72.7266"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="707.3613" x2="707.3613" y1="72.7266" y2="359.9219"/></g><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:1,4;" x1="707.3613" x2="707.3613" y1="359.9219" y2="400.7266"/><g><title>Mirror</title><rect fill="#000000" fill-opacity="0.00000" height="66" width="8" x="703.8613" y="400.7266"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="707.3613" x2="707.3613" y1="400.7266" y2="466.7266"/></g><g><title/><rect fill="#FFFFFF" height="8" style="stroke:#FFFFFF;stroke-width:1;" width="10" x="702.3613" y="351.9219"/><line style="stroke:#181818;stroke-width:1;" x1="702.3613" x2="702.3613" y1="351.9219" y2="359.9219"/><line style="stroke:#181818;stroke-width:1;" x1="712.3613" x2="712.3613" y1="351.9219" y2="359.9219"/><line style="stroke:#181818;stroke-width:1;" x1="702.3613" x2="712.3613" y1="351.9219" y2="351.9219"/></g><g><title/><rect fill="#FFFFFF" height="6" style="stroke:#FFFFFF;stroke-width:1;" width="10" x="702.3613" y="400.7266"/><line style="stroke:#181818;stroke-width:1;" x1="702.3613" x2="702.3613" y1="400.7266" y2="406.7266"/><line style="stroke:#181818;stroke-width:1;" x1="712.3613" x2="712.3613" y1="400.7266" y2="406.7266"/><line style="stroke:#181818;stroke-width:1;" x1="702.3613" x2="712.3613" y1="406.7266" y2="406.7266"/></g><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="150.165" x="5" y="41.4297"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="136.165" x="12" y="61.4248">BlueSky RunEngine</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="83.1592" x="324.7988" y="41.4297"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69.1592" x="331.7988" y="61.4248">Undulator</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="46.6348" x="417.958" y="41.4297"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32.6348" x="424.958" y="61.4248">DCM</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="112.2256" x="474.5928" y="25.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="92.4971" x="484.457" y="45.1279">Transmission</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98.2256" x="481.5928" y="61.4248">and Feedback</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="63.0957" x="596.8184" y="41.4297"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49.0957" x="603.8184" y="61.4248">Mirrors</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="74.8945" x="669.9141" y="25.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="41.8018" x="686.4604" y="45.1279">Mirror</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="60.8945" x="676.9141" y="61.4248">Voltages</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="150.165" x="5" y="466.7266"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="136.165" x="12" y="486.7217">BlueSky RunEngine</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="83.1592" x="324.7988" y="466.7266"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69.1592" x="331.7988" y="486.7217">Undulator</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="46.6348" x="417.958" y="466.7266"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32.6348" x="424.958" y="486.7217">DCM</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="112.2256" x="474.5928" y="466.7266"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="92.4971" x="484.457" y="486.7217">Transmission</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98.2256" x="481.5928" y="503.0186">and Feedback</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="63.0957" x="596.8184" y="466.7266"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49.0957" x="603.8184" y="486.7217">Mirrors</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="74.8945" x="669.9141" y="466.7266"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="41.8018" x="686.4604" y="486.7217">Mirror</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="60.8945" x="676.9141" y="503.0186">Voltages</text><path d="M45.0825,84.7266 L208.7202,84.7266 L208.7202,91.8594 L198.7202,101.8594 L45.0825,101.8594 L45.0825,84.7266" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="358" style="stroke:#000000;stroke-width:1.5;" width="708.2788" x="45.0825" y="84.7266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="118.6377" x="60.0825" y="97.7935">set_energy_plan</text><line style="stroke:#181818;stroke-width:1;" x1="80.0825" x2="127.0825" y1="132.9922" y2="132.9922"/><line style="stroke:#181818;stroke-width:1;" x1="127.0825" x2="127.0825" y1="132.9922" y2="145.9922"/><line style="stroke:#181818;stroke-width:1;" x1="86.0825" x2="127.0825" y1="145.9922" y2="145.9922"/><polygon fill="#181818" points="96.0825,141.9922,86.0825,145.9922,96.0825,149.9922,92.0825,145.9922" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106.4629" x="92.0825" y="127.9263">set_energy_plan</text><polygon fill="#181818" points="513.7056,171.125,523.7056,175.125,513.7056,179.125,517.7056,175.125" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="85.0825" x2="519.7056" y1="175.125" y2="175.125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="80.958" x="92.0825" y="170.0591">feedback off</text><polygon fill="#181818" points="349.3784,200.2578,359.3784,204.2578,349.3784,208.2578,353.3784,204.2578" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="85.0825" x2="355.3784" y1="204.2578" y2="204.2578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="257.2959" x="92.0825" y="199.1919">set undulator gap for requested energy</text><polygon fill="#181818" points="424.2754,229.3906,434.2754,233.3906,424.2754,237.3906,428.2754,233.3906" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="85.0825" x2="430.2754" y1="233.3906" y2="233.3906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="236.6914" x="92.0825" y="228.3247">Adjust DCM pitch and roll for energy</text><path d="M64.0825,245.3906 L133.5337,245.3906 L133.5337,252.5234 L123.5337,262.5234 L64.0825,262.5234 L64.0825,245.3906" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="169.3359" style="stroke:#000000;stroke-width:1.5;" width="664.2788" x="64.0825" y="245.3906"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="24.4512" x="79.0825" y="258.4575">opt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="191.0713" x="148.5337" y="257.6011">[mirror stripe needs changing]</text><polygon fill="#181818" points="611.3662,289.6563,621.3662,293.6563,611.3662,297.6563,615.3662,293.6563" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="85.0825" x2="617.3662" y1="293.6563" y2="293.6563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="126.4707" x="92.0825" y="288.5903">Adjust mirror stripe</text><polygon fill="#181818" points="611.3662,318.7891,621.3662,322.7891,611.3662,326.7891,615.3662,322.7891" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="85.0825" x2="617.3662" y1="322.7891" y2="322.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96.2305" x="92.0825" y="317.7231">Adjust yaw, lat</text><polygon fill="#181818" points="690.3613,347.9219,700.3613,351.9219,690.3613,355.9219,694.3613,351.9219" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="85.0825" x2="696.3613" y1="351.9219" y2="351.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="144.7393" x="92.0825" y="346.856">Adjust mirror voltages</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="159.269" x="314.0874" y="384.1323">Wait for all voltages to settle</text><polygon fill="#181818" points="96.0825,402.7266,86.0825,406.7266,96.0825,410.7266,92.0825,406.7266" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="90.0825" x2="701.3613" y1="406.7266" y2="406.7266"/><polygon fill="#181818" points="96.0825,430.7266,86.0825,434.7266,96.0825,438.7266,92.0825,434.7266" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="90.0825" x2="360.3784" y1="434.7266" y2="434.7266"/><?plantuml-src VLFBJiCm4BpdAvPUUe7stWCIZt93IELrGQgMP9iQKjlOcq90_3kEczWnBVJGPBsp3yzCZhJ1SeF0f3w1JKsPHiCY5nebm-YygkdsjO55BUUo5996W1OMy-nPVS3eHZVh0ivi8tEufAt8oOxI-djPr1MoChwkxgCKT7bnxTD5laaJTmQbtGXhXP9F4cK1LqJ5C-Ql7h_gWhJeMXYZZFM8pUxz4E19FgYAiQGTSji56Rafxd9PLXfLQx34Iv9aocQfAvGPkDzY3YUdxdzsC8ivYoqojIn5TB_hBBo1MgtIWd2VM1OOyxDY22LgMBcdeRUQB5C1kptIZf7msDAnF8EpugMs38vvq8BpDRJa6bLLlkcXLgquxO7ItD4AbetG1DAjRI5VOskGqeFYj4w1C34f3TWmfHVi_oODlX-3krU0VLbs2Yzx4R-xkZx-FJs8lJT_BpEPJ1vHiAS57Jqz05YrYd153X7tSEuPR170tYu1LT3VymQv8HUkhtz60yIMWv9Kxq6YLszmbBXjSEwecuwzstOsWDRPC9wsNyOF?></g></svg>